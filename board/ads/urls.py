# =========================
# URL МАРШРУТЫ ПРИЛОЖЕНИЯ ADS (объявления)
# Файл: board/ads/urls.py
# =========================

# path() — связывает URL и функцию-вьюху
from django.urls import path

# Импортируем ВСЕ вьюхи из views.py этого приложения
from . import views


# =========================
# СПИСОК URL ЭТОГО ПРИЛОЖЕНИЯ
# =========================
urlpatterns = [

    # ---------------------------------
    # /ads/
    # ЛЕНТА ОБЪЯВЛЕНИЙ
    # ---------------------------------
    path(
        "",
        views.ads_list,
        name="ads_list"
    ),

    # ---------------------------------
    # /ads/create/
    # СОЗДАНИЕ ОБЪЯВЛЕНИЯ
    # ---------------------------------
    path(
        "create/",
        views.create_ad,
        name="create_ad"
    ),

    # ---------------------------------
    # /ads/<id>/edit/
    # РЕДАКТИРОВАНИЕ ОБЪЯВЛЕНИЯ
    #
    # ВАЖНО:
    # Этот маршрут должен идти
    # ДО "<int:ad_id>/"
    # иначе Django примет "edit" за id
    # ---------------------------------
    path(
        "<int:ad_id>/edit/",
        views.edit_ad,
        name="edit_ad"
    ),

    # ---------------------------------
    # /ads/<id>/delete/
    # УДАЛЕНИЕ ОБЪЯВЛЕНИЯ
    # ---------------------------------
    path(
        "<int:ad_id>/delete/",
        views.delete_ad,
        name="delete_ad"
    ),

    # ---------------------------------
    # /ads/<id>/
    # СТРАНИЦА ОДНОГО ОБЪЯВЛЕНИЯ
    #
    # ВСЕГДА ставим этот маршрут ПОСЛЕДНИМ,
    # потому что он самый общий.
    # ---------------------------------
    path(
        "<int:ad_id>/",
        views.ad_detail,
        name="ad_detail"
    ),
]
